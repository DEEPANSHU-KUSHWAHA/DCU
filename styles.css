body {
    background-color: #212529;
    color: #d4d4d4;
    font-family: Arial, sans-serif;
}

.controls {
    background-color: #2c3034;
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid #454d55;
}

.right-controls {
    margin-left: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
    background-color: #2d2d2d;
}

th, td {
    padding: 8px;
    border: 1px solid #404040;
    text-align: left;
}

tr.watched {
    background-color: #e0e0e0;
}

tr[data-series="Arrow"] {
    background-color: #d4edda;
}

.dark-mode {
    background-color: #1a1a1a;
    color: #e0e0e0;
}

.dark-mode .controls {
    background-color: #2d2d2d;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.dark-mode .table {
    background-color: #2d2d2d;
    color: #e0e0e0;
}

.dark-mode input,
.dark-mode select,
.dark-mode button {
    background-color: #3d3d3d;
    color: #e0e0e0;
    border-color: #4d4d4d;
}

.color-disabled tr {
    background-color: transparent !important;
}

.loading {
    text-align: center;
    padding: 20px;
    color: #666;
}

.error {
    text-align: center;
    padding: 20px;
    color: #ff0000;
    background: #ffebee;
}

.cache-status {
    text-align: right;
    font-size: 0.8em;
    color: #666;
    margin: 5px 0;
}

#refreshBtn {
    background-color: #4CAF50;
    color: white;
}

#refreshBtn.loading {
    background-color: #666;
    cursor: wait;
}

/* Restore all per-show color rules and sidebar styles as before. */
.arrow { background-color: #1b4d2b; }         /* Deep Forest Green */
.flash { background-color: #8b0000; }         /* Dark Crimson */
.supergirl { background-color: #00488b; }     /* Royal Blue */
.legends { background-color: #4b0082; }       /* Deep Indigo */
.batwoman { background-color: #8b0033; }      /* Dark Rose */
.black-lightning { background-color: #191970; } /* Midnight Blue */
.constantine { background-color: #8b4513; }    /* Saddle Brown */
.stargirl { background-color: #4b0150; }      /* Deep Purple */
.vixen { background-color: #8b4500; }         /* Dark Orange */
.freedom-fighters { background-color: #006400; } /* Dark Green */

/* Light Mode Hover Effects */
.arrow:hover { background-color: #2d734f; }
.flash:hover { background-color: #cc0000; }
.supergirl:hover { background-color: #0066cc; }
.legends:hover { background-color: #6b238e; }
.batwoman:hover { background-color: #cc004d; }
.black-lightning:hover { background-color: #2d2d8e; }
.constantine:hover { background-color: #b25819; }
.stargirl:hover { background-color: #6b0173; }
.vixen:hover { background-color: #cc6600; }
.freedom-fighters:hover { background-color: #008000; }

/* Dark Mode Colors */
.dark-mode .arrow { background-color: #0a3d1a; }
.dark-mode .flash { background-color: #4d0000; }
.dark-mode .supergirl { background-color: #002b4d; }
.dark-mode .legends { background-color: #2b004d; }
.dark-mode .batwoman { background-color: #4d001c; }
.dark-mode .black-lightning { background-color: #0a0a4d; }
.dark-mode .constantine { background-color: #4d2409; }
.dark-mode .stargirl { background-color: #2b012e; }
.dark-mode .vixen { background-color: #4d2500; }
.dark-mode .freedom-fighters { background-color: #003300; }

/* Ensure text remains readable */
.arrow, .flash, .supergirl, .legends, .batwoman, 
.black-lightning, .constantine, .stargirl, .vixen, 
.freedom-fighters {
    color: #ffffff;
    text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
}

/* Table Styles */
.table {
    width: 100%;
    margin-bottom: 1rem;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(0, 0, 0, 0.02);
}

.dark-mode .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(255, 255, 255, 0.02);
}

.no-color tbody tr {
    background-color: inherit !important;
}

.dark-mode.no-color tr:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

.select2-container {
    width: 100% !important;
}

.date-picker {
    min-width: 120px;
}

.episode {
    transition: background-color 0.3s;
}

.dark-mode .episode.arrow { background-color: #1b2b1c; }
.dark-mode .episode.flash { background-color: #2b1b1b; }
.dark-mode .episode.supergirl { background-color: #2b2616; }
.dark-mode .episode.legends { background-color: #162b2b; }
.dark-mode .episode.batwoman { background-color: #2b1623; }
.dark-mode .episode.black-lightning { background-color: #1b1b2b; }
.dark-mode .episode.constantine { background-color: #2b261b; }
.dark-mode .episode.stargirl { background-color: #261b2b; }
.dark-mode .episode.vixen { background-color: #2b1b16; }

.no-color .episode {
    background-color: transparent !important;
}

.loading-indicator {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #2d2d2d;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    z-index: 1000;
    text-align: center;
    min-width: 300px;
}

.loading-spinner {
    display: inline-block;
    width: 50px;
    height: 50px;
    border: 5px solid #f3f3f3;
    border-top: 5px solid #3498db;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 15px;
}

.progress-bar {
    background: #404040;
    height: 20px;
    border-radius: 10px;
    margin: 15px 0;
    overflow: hidden;
}

.progress {
    background: #3498db;
    height: 100%;
    width: 0;
    transition: width 0.3s ease;
}

#loadingStatus {
    color: #fff;
    margin: 10px 0;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Restore sidebar styles if needed */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100%;
    width: 250px;
    background: #2d2d2d;
    z-index: 1000;
    transition: all 0.3s;
    transform: translateX(-250px);
}
.sidebar.active {
    transform: translateX(0);
}
.main-content {
    margin-left: 0;
    transition: margin-left 0.3s;
}
.main-content.sidebar-active {
    margin-left: 250px;
}
.btn-toggle {
    position: absolute;
    right: -40px;
    top: 10px;
    background: #2d2d2d;
    border: none;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 0 4px 4px 0;
}

/* Details button */
.show-details {
    padding: 4px 8px;
    color: white;
    background: #4a90e2;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
}

.show-details:hover {
    background: #357abd;
}

.show-details i {
    font-size: 1.1em;
}

.details-btn {
    padding: 4px 8px;
    border: none;
    background: transparent;
    color: #4a90e2;
    cursor: pointer;
    transition: all 0.2s;
}

.details-btn:hover {
    color: #357abd;
    transform: scale(1.1);
}

.details-btn i {
    font-size: 1.1em;
}

.modal-content {
    background-color: #2d2d2d;
    color: #fff;
}

.modal-header {
    border-bottom-color: #404040;
}

.modal-title {
    font-weight: bold;
}

.btn-close-white {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* Episode details dropdown */
.episode-details-row {
    display: none;
    background: #1a1a1a;
    padding: 15px;
}

.episode-details-row {
    background-color: rgba(0, 0, 0, 0.15);
}

.episode-details-row td {
    padding: 0 !important;
}

.description-loading {
    color: #adb5bd;
    font-style: italic;
}

.close-details {
    position: absolute;
    top: 10px;
    right: 10px;
}

/* Watch Status Column */
.watch-status-cell {
    width: 100px;
}

.watch-controls {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
}

.episode-checkbox,
.mark-previous-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin: 0;
}

.episode-checkbox {
    accent-color: #4CAF50;
}

.mark-previous-checkbox {
    accent-color: #2196F3;
}

.crossover-cell {
    text-align: center;
    width: 150px;
}

.crossover-badge {
    display: inline-block;
    padding: 4px 8px;
    background-color: #ffc107;
    color: #000;
    border-radius: 4px;
    font-size: 0.85em;
    font-weight: bold;
    line-height: 1.2;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

tr.crossover-episode td {
    background-color: rgba(255, 193, 7, 0.1);
    border-left: 3px solid #ffc107;
}

.dark-mode .crossover-episode td {
    background-color: rgba(255, 193, 7, 0.05);
}

/* Add this at the end of your CSS to ensure inline style always wins */
#episodeTable tbody tr[style] {
    background-color: unset !important;
}
#episodeTable tbody tr[style] td {
    background-color: unset !important;
}
#episodeTable tbody tr[style] {
    /* Use the inline style's background-color and color */
    /* No background-color override from class! */
}

#episodeTable {
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0;
    border-collapse: collapse;
}

/* Fixed column widths */
#episodeTable th:nth-child(1),
#episodeTable td:nth-child(1) { width: 50px; }     /* # */
#episodeTable th:nth-child(2),
#episodeTable td:nth-child(2) { width: 120px; }    /* Series */
#episodeTable th:nth-child(3),
#episodeTable td:nth-child(3) { width: 80px; }     /* Episode */
#episodeTable th:nth-child(4),
#episodeTable td:nth-child(4) { width: 250px; }    /* Name */
#episodeTable th:nth-child(5),
#episodeTable td:nth-child(5) { width: 90px; }     /* Air Date */
#episodeTable th:nth-child(6),
#episodeTable td:nth-child(6) { width: 120px; }    /* Crossover */
#episodeTable th:nth-child(7),
#episodeTable td:nth-child(7) { width: 80px; }     /* Source */
#episodeTable th:nth-child(8) { width: 60px; }     /* Watched */

/* Character-based colors */
.arrow td { background-color: #1b4d2b; color: #98FF98; }         /* Green - Strategic/Skilled */
.flash td { background-color: #8b0000; color: #FFB6C1; }         /* Red - Speed/Energy */
.supergirl td { background-color: #00488b; color: #87CEEB; }     /* Blue - Hope/Strength */
.legends td { background-color: #4b0082; color: #DDA0DD; }       /* Purple - Time/Magic */
.batwoman td { background-color: #660033; color: #FF69B4; }      /* Dark Red - Night/Gothic */
.black-lightning td { background-color: #191970; color: #00FFFF; } /* Navy - Electric/Power */
.constantine td { background-color: #8b4513; color: #FFD700; }    /* Brown - Occult/Magic */

/* Remove extra spacing */
td:last-child,
th:last-child {
    width: 60px;
    padding: 8px;
    text-align: center;
}

.watch-toggle {
    margin: 0 auto;
    display: block;
}

/* Filter menu styles */
.filter-menu {
    background: #2d2d2d;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
}

.show-list {
    margin-left: 20px;
    padding-left: 10px;
    border-left: 2px solid #404040;
}

/* Episode details modal */
.episode-details {
    color: #d4d4d4;
    background: #2d2d2d;
    padding: 20px;
    border-radius: 8px;
}

.episode-details img {
    max-width: 100%;
    border-radius: 4px;
    margin-bottom: 15px;
}

/* Sidebar */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100%;
    width: 250px;
    background: #2d2d2d;
    z-index: 1000;
    transition: all 0.3s;
    transform: translateX(-250px);
}

.sidebar.active {
    transform: translateX(0);
}

.main-content {
    margin-left: 0;
    transition: margin-left 0.3s;
}

.main-content.sidebar-active {
    margin-left: 250px;
}

.btn-toggle {
    position: absolute;
    right: -40px;
    top: 10px;
    background: #2d2d2d;
    border: none;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 0 4px 4px 0;
}

/* Details button */
.show-details {
    padding: 4px 8px;
    color: white;
    background: #4a90e2;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
}

.show-details:hover {
    background: #357abd;
}

.show-details i {
    font-size: 1.1em;
}

.details-btn {
    padding: 4px 8px;
    border: none;
    background: transparent;
    color: #4a90e2;
    cursor: pointer;
    transition: all 0.2s;
}

.details-btn:hover {
    color: #357abd;
    transform: scale(1.1);
}

.details-btn i {
    font-size: 1.1em;
}

.modal-content {
    background-color: #2d2d2d;
    color: #fff;
}

.modal-header {
    border-bottom-color: #404040;
}

.modal-title {
    font-weight: bold;
}

.btn-close-white {
    filter: invert(1) grayscale(100%) brightness(200%);
}

/* Episode details dropdown */
.episode-details-row {
    display: none;
    background: #1a1a1a;
    padding: 15px;
}

.episode-details-row {
    background-color: rgba(0, 0, 0, 0.15);
}

.episode-details-row td {
    padding: 0 !important;
}

.description-loading {
    color: #adb5bd;
    font-style: italic;
}

.close-details {
    position: absolute;
    top: 10px;
    right: 10px;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Watch Status Column */
.watch-status-cell {
    width: 100px;
}

.watch-controls {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
}

.episode-checkbox,
.mark-previous-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin: 0;
}

.episode-checkbox {
    accent-color: #4CAF50;
}

.mark-previous-checkbox {
    accent-color: #2196F3;
}

.crossover-cell {
    text-align: center;
    width: 150px;
}

.crossover-badge {
    display: inline-block;
    padding: 4px 8px;
    background-color: #ffc107;
    color: #000;
    border-radius: 4px;
    font-size: 0.85em;
    font-weight: bold;
    line-height: 1.2;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

tr.crossover-episode td {
    background-color: rgba(255, 193, 7, 0.1);
    border-left: 3px solid #ffc107;
}

.dark-mode .crossover-episode td {
    background-color: rgba(255, 193, 7, 0.05);
}

/* Add this at the end of your CSS to ensure inline style always wins */
#episodeTable tbody tr[style] {
    background-color: unset !important;
}
#episodeTable tbody tr[style] td {
    background-color: unset !important;
}
#episodeTable tbody tr[style] {
    /* Use the inline style's background-color and color */
    /* No background-color override from class! */
}
.description-loading {
    color: #adb5bd;
    font-style: italic;
}

.close-details {
    position: absolute;
    top: 10px;
    right: 10px;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Watch Status Column */
.watch-status-cell {
    width: 100px;
}

.watch-controls {
    display: flex;
    gap: 8px;
    justify-content: center;
    align-items: center;
}

.episode-checkbox,
.mark-previous-checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
    margin: 0;
}

.episode-checkbox {
    accent-color: #4CAF50;
}

.mark-previous-checkbox {
    accent-color: #2196F3;
}

.crossover-cell {
    text-align: center;
    width: 150px;
}

.crossover-badge {
    display: inline-block;
    padding: 4px 8px;
    background-color: #ffc107;
    color: #000;
    border-radius: 4px;
    font-size: 0.85em;
    font-weight: bold;
    line-height: 1.2;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

tr.crossover-episode td {
    background-color: rgba(255, 193, 7, 0.1);
    border-left: 3px solid #ffc107;
}

.dark-mode .crossover-episode td {
    background-color: rgba(255, 193, 7, 0.05);
}

/* Add this at the end of your CSS to ensure inline style always wins */
#episodeTable tbody tr[style] {
    background-color: unset !important;
}
#episodeTable tbody tr[style] td {
    background-color: unset !important;
}
#episodeTable tbody tr[style] {
    /* Use the inline style's background-color and color */
    /* No background-color override from class! */
}
